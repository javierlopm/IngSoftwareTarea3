{% extends "presentation/access-control/base.html" %}
{%block contenido%}
    <script type="text/javascript">

        var app = angular.module('inputs', []);

        app.controller("add", 
            function($scope,$http,$location){
                $scope.nombreDpt = "Nombre del dpto"
                $scope.idDpt     = 5


                $scope.enviar = function() {
                    console.log(angular.toJson($scope.nombreDpt));
                    var data = {}
                    data["nombreDpt"] = $scope.nombreDpt;
                    data["idDpt"]     = $scope.idDpt;
                    
                    console.log(angular.fromJson(data));

                    $http.post("/dpt", angular.fromJson(data)).success(
                        function(data){
                            $scope.gists = data;

                        }
                    );

                };

                $scope.borrarT = function(){
                    this.nombreDpt = ""
                }                
                $scope.borrarN = function(){
                    this.idDpt = ""
                }
            }
            
        );

    </script>

    <h1>Bienvenido a la p√°gina de control de departamentos</h1>

    <form ng-app="inputs" ng-controller="add" method="get" >
        <input type="text"   ng-mousedown="borrarT()" ng-model="nombreDpt"/>
        <input type="number"   ng-mousedown="borrarN()" ng-model="idDpt"/>
        <input type="submit" ng-click="enviar()">
    </form>

    
{%endblock%}